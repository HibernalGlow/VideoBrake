# Wallpaper Engine 工坊管理工具

这是一个用于管理 Wallpaper Engine 工坊壁纸的 Streamlit 工具，支持扫描、过滤、预览和批量重命名功能。

## 功能特性

- 🔍 **工坊目录扫描**: 自动扫描工坊目录并读取 project.json 文件
- 🎯 **智能过滤**: 支持按标题、内容评级、类型、标签等多种条件过滤
- 🖼️ **预览展示**: 支持网格和列表两种显示模式，可显示预览图
- 📁 **批量重命名**: 支持自定义模板批量重命名文件夹
- 📊 **统计分析**: 提供详细的统计信息和图表分析
- 💾 **数据导出**: 支持导出过滤结果和重命名日志

## 安装使用

1. 确保已安装依赖包
2. 运行工具：
   ```bash
   streamlit run src/engingv/app.py
   ```
   或者使用命令行入口：
   ```bash
   engingv
   ```

## 配置说明

### 工坊目录路径
设置 Wallpaper Engine 工坊内容目录，通常位于：
- `C:\Program Files (x86)\Steam\steamapps\workshop\content\431960`

### 命名模板
支持以下占位符：
- `{id}`: 工坊 ID（文件夹名）
- `{title}`: 壁纸标题
- `{original_name}`: 原始文件夹名
- `{type}`: 壁纸类型
- `{rating}`: 内容评级

示例模板：
- `[#{id}]{original_name}+{title}` → `[#123456789]original_folder+My Wallpaper`
- `{title}_{id}` → `My Wallpaper_123456789`
- `{type}_{rating}_{title}` → `Video_Everyone_My Wallpaper`

## 过滤功能

支持以下过滤条件：
- **标题搜索**: 模糊匹配壁纸标题
- **内容评级**: Everyone, Mature, Adult 等
- **壁纸类型**: Video, Scene, Web 等
- **性内容评级**: none, mild, moderate, explicit
- **暴力内容评级**: none, mild, moderate, explicit
- **标签**: 支持多选标签过滤

## 重命名功能

### 原位重命名
直接修改原文件夹名称，操作快速但不可恢复。

### 复制到新位置
将文件夹复制到指定目录并重命名，保留原文件。

### 安全特性
- 预览模式：在实际执行前可预览重命名结果
- 重复处理：自动处理重名文件夹
- 错误日志：记录重命名过程中的错误

## 数据导出

### 路径列表导出
导出过滤后的壁纸文件夹路径，每行一个路径。

### JSON数据导出
导出完整的壁纸信息，包括所有元数据。

### 重命名日志
记录重命名操作的详细信息，包括成功和失败的记录。

## 注意事项

1. **备份重要数据**: 在进行批量重命名前，建议备份重要数据
2. **权限问题**: 确保程序有足够权限访问工坊目录
3. **路径长度**: Windows 路径长度限制可能影响重命名操作
4. **并发设置**: 根据硬盘性能调整并发线程数
